<mp-loading ext-class="loading-center" show="{{loading}}" type="{{type}}" tips="登录中..." />
<!-- 自定义顶部条 -->
<custom />
<view class="userinfo" >
  <image class="bg" src="/images/dialog_bg.png" mode="aspectFill"/>
  <view class="box df ai-center" style="padding-top: {{statusBarHeight}}px">
    <view class="df-fixed">
      <open-data class="avatar" type="userAvatarUrl"></open-data>
      <!-- <image class="avatar" src="{{userInfo.photo}}" mode="aspectFit"></image> -->
    </view>
    <view class="df-auto">
      <view class="name" wx:if="{{userInfo.nickName}}">您好, <open-data type="userNickName"></open-data></view>
      <button
        wx:if="{{!userInfo.nickName}}"
        class="login-btn"
        hover-class="button-hover"
        bindtap="getUserProfile"
      >
        登录
      </button>
    </view>
  </view>
</view>
<!-- 绑定 -->
<view class="company">
  <view class="box df ai-center bg-white {{isFirstBind ? 'bind' : ''}}">
    <image class="logo" src="/images/meituan.png" mode="aspectFit"></image>
    <view class="info df-auto">
      <view class="df">
        <text class="name df-fixed">店铺ID：</text>
        <view class="df df-auto jc-between" wx:if="{{isFirstBind}}">
          <text class="value ">{{ firstId }}</text>
          <mp-icon class="icon-edit" icon="pencil" color="#3b3085" size="{{24}}" data-field="isFirstBind" bind:tap="onEdit"></mp-icon>
          <!-- <image class="icon-edit" src="/images/edit.png" mode="aspectFit" data-field="isFirstBind" bind:tap="onEdit" /> -->
        </view>
        <input wx:else class="input" type="text" data-field="firstId" value="{{firstId}}" bindinput="inputChange"/>
      </view>
    </view>
  </view>
  <view class="box df ai-center bg-white {{isSecondBind ? 'bind' : ''}}">
    <image class="logo" src="/images/eleme.png" mode="aspectFit"></image>
    <view class="info df-auto">
      <view class="df">
        <text class="name df-fixed">店铺ID：</text>
        <view class="df df-auto jc-between" wx:if="{{isSecondBind}}">
          <text class="value">{{ secondId }}</text>
          <mp-icon class="icon-edit" icon="pencil" color="#3b3085" size="{{24}}" data-field="isSecondBind" bind:tap="onEdit"></mp-icon>
        </view>
        <input wx:else class="input" type="text" data-field="secondId" value="{{secondId}}" bindinput="inputChange"/>
      </view>
    </view>
  </view>
  <button wx:if="{{!isSecondBind || !isFirstBind}}" class="btn" bindtap="onBind" hover-class="button-hover">绑定ID</button>
</view>